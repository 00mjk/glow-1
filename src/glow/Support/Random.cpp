#include "glow/Support/Random.h"
using namespace glow;

namespace {

// This is a global variable, a singleton, that's used as an index into
// the array with random numbers.
unsigned randomArrayIndex = 0;

const unsigned numRandomVals = 1024;
const double randomVals[] = {
    0.6504,  -0.7127, 0.7321,  0.1420,  -0.7113, -0.8265, -0.8066, 0.6944,
    -0.9639, -0.5584, 0.3822,  0.5588,  -0.5160, 0.5611,  -0.1816, 0.1238,
    -0.8903, -0.4393, 0.5895,  -0.4211, 0.1316,  -0.8750, -0.0435, 0.7736,
    0.2411,  0.2546,  0.4545,  -0.8814, 0.9695,  -0.7223, 0.4864,  0.2090,
    -0.0813, 0.7206,  0.5196,  0.7199,  -0.6205, 0.2743,  -0.6704, -0.0815,
    -0.1417, -0.5168, 0.1445,  -0.3614, -0.1485, -0.3142, -0.9823, 0.9113,
    0.3812,  0.3326,  0.2432,  0.1707,  0.0367,  -0.4321, 0.9301,  -0.6402,
    -0.9270, -0.4054, 0.7517,  -0.7448, 0.0101,  -0.6479, 0.0489,  0.4669,
    0.7471,  -0.9820, -0.0517, -0.8233, 0.8420,  -0.6574, 0.6370,  0.7413,
    -0.2949, 0.3133,  0.2424,  -0.5743, -0.3548, 0.6315,  0.1185,  0.8600,
    -0.9256, -0.0789, 0.1203,  0.5794,  0.5699,  -0.0058, -0.0202, -0.4697,
    -0.6162, 0.2159,  -0.0388, 0.9651,  -0.0122, 0.1083,  0.9776,  -0.0476,
    0.8031,  -0.1823, 0.3744,  -0.8966, 0.3228,  0.8807,  -0.5727, -0.7869,
    0.5387,  0.3902,  0.6905,  -0.8945, 0.8450,  0.5178,  -0.5123, 0.0870,
    0.5220,  -0.7872, 0.7279,  -0.6098, 0.4168,  -0.6524, -0.1249, 0.7844,
    0.4141,  0.2870,  -0.0237, 0.6970,  -0.2705, 0.1249,  -0.1551, -0.5828,
    0.7496,  -0.0932, 0.6001,  0.1920,  -0.7739, 0.0085,  0.0647,  0.4588,
    -0.4901, -0.6541, -0.8970, -0.1604, 0.3277,  -0.6893, 0.4802,  0.6659,
    0.2698,  -0.6686, -0.7941, -0.3958, 0.0461,  0.2465,  0.0966,  0.8123,
    -0.5658, 0.9951,  -0.2253, 0.7801,  0.9621,  -0.1178, 0.4933,  -0.5495,
    -0.0690, 0.2343,  0.6281,  -0.6172, -0.8745, 0.7452,  -0.2257, -0.7058,
    -0.1225, 0.2802,  -0.4038, 0.8892,  0.3878,  0.2219,  -0.7379, -0.7057,
    0.5863,  -0.7317, 0.4782,  0.4965,  0.0921,  -0.6457, 0.4863,  -0.6079,
    -0.2374, 0.4054,  -0.6410, 0.2859,  -0.3897, 0.9064,  -0.4027, -0.3882,
    -0.5802, -0.8953, -0.6706, -0.6482, 0.9113,  0.8451,  -0.0421, -0.6984,
    0.2177,  -0.6446, 0.8974,  -0.6398, -0.3979, -0.2697, -0.5602, 0.6479,
    -0.4886, 0.2052,  0.8981,  -0.1519, 0.2161,  0.1893,  -0.7852, 0.5651,
    -0.6394, 0.2140,  -0.2945, -0.8842, 0.0946,  -0.7049, -0.0784, -0.7718,
    -0.6031, 0.5632,  0.6156,  0.2040,  -0.8471, -0.7608, -0.6860, -0.7379,
    0.0216,  0.5107,  -0.3012, 0.9834,  0.8533,  0.7093,  0.2789,  0.8981,
    -0.9070, 0.9723,  0.5544,  0.5568,  -0.4722, 0.7774,  -0.6198, 0.5358,
    0.3016,  0.7143,  -0.5507, 0.7386,  -0.3680, -0.4987, 0.4137,  -0.5724,
    -0.3917, -0.1473, 0.9729,  -0.0652, -0.8842, -0.2318, -0.1076, -0.0520,
    0.3111,  -0.2589, -0.2962, 0.3291,  -0.1739, -0.5184, 0.3349,  -0.9737,
    0.7636,  0.1614,  -0.8753, -0.9708, -0.3534, 0.9110,  0.5961,  0.8585,
    -0.8029, -0.5314, -0.2760, -0.2762, -0.7714, 0.3674,  -0.5515, -0.4126,
    -0.4558, 0.2870,  -0.4139, -0.0569, 0.0141,  -0.6563, 0.0766,  -0.8386,
    -0.7475, 0.5612,  -0.9344, -0.8638, 0.7477,  0.6702,  0.8770,  -0.1208,
    -0.1757, 0.8516,  -0.3454, 0.0414,  0.3008,  0.6354,  0.1963,  0.7043,
    0.9011,  -0.6134, -0.7751, 0.9415,  0.5177,  -0.4537, 0.2265,  0.9349,
    0.2377,  0.3711,  -0.2978, -0.7010, 0.0748,  0.5685,  -0.3401, -0.5877,
    -0.4725, -0.1884, 0.3461,  0.0811,  0.7769,  -0.6192, 0.2559,  -0.2991,
    -0.2042, -0.7590, -0.7566, 0.5217,  0.2465,  -0.1485, -0.9270, 0.0365,
    0.8394,  0.8415,  0.9808,  0.8406,  0.2472,  0.0225,  0.7863,  -0.4738,
    -0.5783, -0.7855, 0.8503,  0.4199,  0.7305,  -0.2852, 0.0243,  0.3760,
    0.3510,  -0.2301, -0.0482, 0.0051,  0.9255,  -0.0369, -0.0461, 0.7820,
    0.9697,  -0.5272, 0.7891,  0.6436,  -0.9717, -0.3406, -0.3410, -0.7349,
    -0.2350, -0.0542, 0.1356,  0.1817,  -0.1526, -0.4297, 0.9905,  -0.7421,
    0.3354,  0.4267,  -0.5114, 0.7180,  0.0454,  -0.9161, -0.2474, 0.6136,
    0.4611,  0.0277,  0.6988,  0.7332,  -0.2232, 0.7472,  -0.0198, -0.7072,
    0.2276,  0.2482,  0.9792,  -0.1073, 0.9737,  -0.8010, 0.1998,  0.4038,
    -0.9231, 0.2127,  -0.9051, -0.9676, 0.6290,  -0.7560, 0.4595,  0.8579,
    0.0164,  -0.3883, 0.5740,  0.6575,  -0.5718, 0.8196,  -0.4279, -0.9548,
    -0.2554, 0.4614,  -0.0334, -0.8279, -0.4236, -0.6665, 0.8961,  -0.9199,
    0.5280,  -0.0989, -0.0049, -0.1050, -0.9803, 0.9901,  0.7214,  0.2709,
    0.1202,  0.9882,  -0.0923, 0.3514,  0.9737,  -0.0040, 0.2683,  0.2912,
    0.8872,  -0.7165, -0.3030, 0.0975,  -0.8598, 0.7919,  -0.2615, 0.7504,
    0.3002,  -0.2808, -0.3130, 0.8590,  0.3935,  -0.9604, -0.3384, -0.5769,
    0.7678,  0.8185,  0.4477,  -0.9409, -0.0288, 0.0250,  0.8325,  -0.5465,
    -0.2157, -0.1951, -0.2049, 0.9340,  0.1484,  0.3404,  -0.1826, -0.4689,
    -0.2633, 0.5927,  -0.2718, -0.0995, 0.2921,  -0.1699, -0.1638, 0.9662,
    -0.1593, 0.8252,  -0.5433, 0.8682,  -0.6512, 0.7329,  0.9654,  -0.4176,
    0.4046,  -0.6128, 0.7127,  -0.1787, -0.5050, -0.9772, 0.7962,  0.6163,
    -0.9925, -0.4861, 0.4647,  0.1629,  0.3888,  -0.2685, 0.0149,  -0.6684,
    0.2431,  0.1798,  -0.2566, 0.5077,  0.2052,  0.2144,  -0.7408, -0.7829,
    0.4544,  0.9504,  -0.7824, 0.2178,  0.8039,  -0.5710, -0.6988, 0.2974,
    -0.9683, -0.4927, -0.8640, -0.2474, -0.3479, -0.2227, 0.4171,  0.4153,
    -0.2800, -0.8324, 0.7040,  -0.3361, 0.7568,  -0.1488, -0.0588, -0.2622,
    -0.8764, -0.2859, -0.7965, 0.7227,  0.3496,  0.6869,  0.1731,  0.2135,
    0.0509,  -0.9156, -0.1379, -0.2688, -0.3670, -0.5394, -0.6545, 0.7240,
    -0.4004, -0.3009, -0.5843, 0.3450,  0.0246,  0.5688,  0.1901,  0.4158,
    -0.9609, -0.8404, -0.2070, 0.2662,  -0.6630, -0.2350, 0.7741,  -0.6868,
    -0.4021, 0.6966,  0.1176,  -0.9194, -0.1646, -0.9038, -0.9344, 0.9237,
    0.1702,  0.9925,  -0.1770, 0.4585,  0.9340,  -0.2161, -0.3334, -0.7447,
    -0.8449, -0.4504, -0.0950, -0.2281, 0.4858,  -0.3410, 0.3998,  0.0185,
    -0.5663, 0.1286,  0.5045,  0.4298,  -0.8240, -0.8650, 0.4986,  -0.4825,
    0.5724,  0.8600,  0.2147,  0.2075,  0.4059,  0.2956,  0.1127,  -0.7008,
    0.9134,  0.3764,  -0.2592, -0.2084, -0.1160, -0.4545, -0.7283, 0.1701,
    0.7639,  -0.8427, 0.4834,  0.1198,  -0.0696, 0.7863,  -0.2147, 0.7309,
    0.6753,  -0.9168, 0.5090,  0.2896,  0.4239,  0.6998,  0.0069,  -0.5471,
    -0.9843, 0.9347,  0.7284,  0.6938,  0.0467,  0.7568,  -0.1957, 0.9509,
    0.8133,  0.5439,  0.6389,  -0.6694, -0.5110, 0.6608,  0.2524,  0.1280,
    -0.0741, 0.8520,  -0.9012, -0.1255, 0.6963,  0.2695,  0.9573,  0.3787,
    0.1854,  0.7303,  -0.1900, -0.4831, 0.4368,  0.5341,  0.0048,  0.6635,
    0.9214,  -0.9671, -0.3728, -0.0273, -0.7186, -0.0036, 0.3992,  0.4720,
    -0.1347, 0.9990,  -0.9721, -0.8456, -0.5247, 0.7921,  -0.6211, 0.9166,
    0.8823,  0.4483,  0.8050,  -0.5860, -0.2552, 0.6550,  -0.7942, 0.3985,
    0.0897,  0.5648,  0.8183,  -0.6488, 0.4674,  -0.4369, -0.7744, -0.8839,
    -0.7528, -0.5195, 0.8273,  0.4612,  -0.9846, 0.5026,  0.1171,  -0.4523,
    0.6297,  0.3898,  -0.0082, -0.0087, 0.6572,  -0.3400, -0.7512, 0.7224,
    -0.0938, -0.1286, -0.8942, 0.6392,  0.9172,  -0.5116, -0.4141, 0.7717,
    -0.1696, -0.0650, -0.2762, -0.8910, -0.0884, 0.3062,  0.2821,  -0.9383,
    -0.4474, 0.4441,  0.7791,  0.9730,  0.9740,  0.8907,  0.9559,  -0.9783,
    0.0727,  -0.7241, -0.7358, 0.0980,  0.9058,  0.4739,  -0.6860, 0.4785,
    -0.7711, -0.4413, -0.2239, -0.7151, 0.2018,  -0.0450, 0.7891,  0.1510,
    -0.5462, -0.3240, -0.3101, 0.2410,  -0.4173, 0.3635,  0.4385,  0.1227,
    -0.3994, 0.1103,  0.5743,  -0.5421, -0.0322, -0.8535, -0.3553, 0.2815,
    0.2494,  -0.8970, 0.1289,  -0.4535, -0.8212, -0.9207, -0.7947, 0.5117,
    0.5327,  0.1022,  0.3249,  -0.1085, -0.1981, 0.7934,  -0.5731, -0.9779,
    0.1830,  -0.3384, 0.2727,  0.7949,  -0.3750, -0.3094, -0.7999, 0.1581,
    0.6540,  0.4027,  0.6501,  -0.4797, -0.7836, -0.0728, 0.7994,  0.1290,
    0.3875,  -0.7066, 0.1061,  -0.5179, 0.0849,  0.8986,  -0.2740, -0.5792,
    -0.2493, 0.2496,  0.9332,  -0.2469, -0.0489, 0.7066,  -0.9399, -0.4563,
    -0.4547, 0.8963,  0.4511,  0.1438,  -0.7645, -0.8008, -0.6250, 0.0050,
    0.2981,  -0.8585, 0.9171,  0.0048,  0.7029,  -0.7725, 0.2806,  -0.9647,
    -0.1897, 0.1767,  -0.0461, 0.0343,  0.8139,  -0.4447, 0.7103,  -0.1513,
    -0.6324, -0.9460, -0.4938, -0.3269, -0.9800, 0.8910,  0.0861,  0.9052,
    -0.3144, 0.0759,  0.9566,  -0.0020, -0.5224, 0.7415,  -0.4288, -0.4802,
    0.0977,  -0.7378, -0.5079, -0.5353, -0.7364, 0.6899,  0.7779,  0.0558,
    0.5087,  -0.2980, -0.8887, -0.8067, 0.7075,  0.1225,  -0.5656, 0.2156,
    0.5848,  0.5649,  0.0989,  -0.7222, -0.2514, 0.2611,  0.5475,  0.2946,
    0.8958,  -0.6805, -0.6438, 0.8726,  -0.0635, 0.2160,  0.0767,  -0.7870,
    0.2583,  -0.8325, -0.0830, 0.2198,  -0.9756, 0.9706,  0.5820,  0.6606,
    0.6890,  -0.6055, -0.4398, -0.5516, 0.7860,  0.8552,  -0.9658, 0.2872,
    0.0468,  -0.4535, 0.4056,  0.9437,  -0.6857, 0.2253,  -0.4649, 0.8546,
    0.9092,  0.0781,  -0.8051, -0.3677, 0.5064,  0.0503,  -0.8547, -0.9621,
    -0.2586, -0.6212, -0.3090, 0.6022,  -0.5942, 0.4445,  -0.3479, 0.4811,
    0.3059,  0.4381,  -0.5699, 0.1542,  0.0711,  0.4153,  -0.9519, -0.2213,
    0.9063,  0.8457,  -0.9273, 0.8906,  -0.4912, -0.1905, -0.9462, 0.3473,
    0.0963,  0.8932,  -0.5917, -0.1121, -0.4603, -0.5011, 0.7057,  0.7143,
    -0.2878, -0.8885, 0.5974,  0.2685,  0.3557,  -0.5349, -0.3045, -0.9890,
    0.0555,  -0.3351, -0.8944, -0.1347, -0.8787, 0.0918,  -0.7260, 0.5229,
    -0.0361, -0.3925, 0.9641,  -0.9286, -0.2486, -0.2023, -0.6634, -0.9345,
    -0.5525, -0.6735, 0.1036,  -0.3912, -0.7464, -0.5720, 0.6001,  0.9445,
    -0.0440, 0.9172,  0.6479,  -0.9758, 0.2212,  0.6636,  0.3796,  -0.7095,
    -0.4144, -0.1702, 0.0473,  -0.9479, -0.2024, -0.3109, -0.6352, -0.1454,
    0.5403,  -0.7533, -0.8124, 0.1469,  0.8900,  0.7691,  0.0269,  -0.3198,
    -0.1148, -0.8300, 0.2279,  -0.4554, -0.7989, -0.0142, -0.9327, -0.7709};
} // namespace

double glow::nextRand() {
  return randomVals[(randomArrayIndex++) % numRandomVals];
}
